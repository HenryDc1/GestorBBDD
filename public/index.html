<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <meta title="Gestor">
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i&display=swap"
        rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
    <script src="script.js" defer></script>
    <script src="shadows.js" defer></script>

</head>
<body>
    <user-login></user-login>
    <h1>Gestor de Bases de Dades Web</h1>
    <h3>¿Qué quieres hacer con las Filas?</h3>
    <h7>Tabla de Datos</h7>
    <table border="1" id="tablaDatos">
    </table>
    <br>
    <h5>Crear filas</h5>
    <form id="addData" action="/addData" method="POST">
        <label for="nom">Nombre:</label>
        <input type="text" id="addnom" name="nom" required>
        <label for="mail">Gmail:</label>
        <input type="text" id="addmail" name="mail" required>
        <button type="button" onclick="agregarDato()">Añadir Dato</button>
    </form>
    <br>
    <h5>Modificar filas</h5>
    <form  id="modifyData">
        <label for="id">ID:</label>
        <input type="number" id="modifyID" name="id" required>
        <label for="nom">Nombre:</label>
        <input type="text" id="modifynom" name="nom" required>
        <label for="mail">Gmail:</label>
        <input type="text" id="modifymail" name="mail" required>
        <button type="button" onclick="modificarDato()">Modificar Dato</button>
    </form>
    <br>
    <h5>Esborrar filas</h5>
    <form  id="deleteData">
        <label for="id">ID:</label>
        <input type="number" id="deleteID" name="id" required>
        <p id="feedbackMessageDeleteData"></p>


        <button type="button" onclick="eliminarDato()">Eliminar Dato</button>
    </form>
    <br>
    <h3>¿Qué quieres hacer con las tablas?</h3>
    <h7>Tabla de Tablas</h7>
    <ul id="tableList">
    </ul>
    <h5>Crear Tablas</h5>
    <form id="createTable">
        <label for="tableName">Nombre:</label>
        <input type="text" id="createTableName" name="tableName" required>
        <label for="numColumn">Introduce el numero de columnas de la tabla:</label>
        <input type="number" id="numeroColumnas" name="numColumns" required oninput="crearCamposDeColumnas()">
       
        <div id="columnInputs"></div>


        <!-- Feedback para el usuario -->
        <p id="feedbackMessage"></p>


        <button type="button" onclick="crearTabla()">Crear tabla</button>
    </form>
    <h5>Modificar taules</h5>
    <form id="modifyTable">
        <label for="nameTable">Nombre de la tabla:</label>
        <input type="text" id="nameModifyTable" name="nameoftable" required>
   
        <label for="operation">Operación:</label>
        <select id="operation" name="operation" onchange="toggleColumnTypeInput()">
            <option value="miss">--</option>
            <option value="add">Agregar columna</option>
            <option value="delete">Borrar columna</option>
        </select>
   
        <label for="nom">Nombre columna agregar/borrar:</label>
        <input type="text" id="columnName" name="nom" required>
   
        <div id="columnTypeContainer" style="display:none;">
            <label for="typeColumn">Tipo de columna:</label>
            <input type="text" id="columnType" name="typeColumn" required>
        </div>
   
        <button type="button" onclick="modificarTabla()">Modificar Dato</button>
    </form>
    <h5>Esborrar taules</h5>
    <!-- Ejemplo consulta sql:DROP TABLE `world`.`puuebafinal2`-->
    <form  id="deleteTable">
        <label for="deleteTablebyName">Nom tabla:</label>
        <input type="text" id="deleteTablebyName" name="deltable" required>
        <p id="feedbackMessageDeleteTable"></p>
        <button type="button" onclick="eliminarTabla()">Eliminar Tabla</button>
    </form>
</body>
</html>